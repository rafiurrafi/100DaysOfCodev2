<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Practise basic components of website</title>
  </head>
  <body>
    <div class="message"></div>
    <textarea disabled cols="30" rows="5" style="width: 100%"></textarea>
    <button>Start</button>
    <script>
      const words = [
        "Do you like javascript as much as I do?",
        "Hope you are making fun this is a simple game you can make",
        "Source code is included so that you can create your own version of this challenge",
      ];
      const message = document.querySelector(".message");
      const playText = document.querySelector("textarea");
      const button = document.querySelector("button");
      let startTime, endTime;

      button.addEventListener("click", function () {
        if (this.innerText === "Start") {
          playText.disabled = false;
          playGame();
        } else if (this.innerText == "Done") {
          playText.disabled = true;
          this.innerText = "Start";
          terminatePlay();
        }
      });
      function playGame() {
        const randomValue = getRandomValue(words);
        const sentence = words[randomValue];
        message.innerText = sentence;

        const date = new Date();
        startTime = date.getTime();
        button.innerText = "Done";
      }
      function terminatePlay() {
        const date = new Date();
        endTime = date.getTime();
        const totalTime = (endTime - startTime) / 1000;

        const writtenWord = playText.value;
        const totalWord = wordCount(writtenWord);
        const speed = Math.round((totalWord / totalTime) * 60);
        console.log(speed);
      }
      function getRandomValue(arr) {
        return Math.floor(Math.random() * arr.length);
      }
      function wordCount(words) {
        return words.split(" ").length;
      }
    </script>
  </body>
</html>
